{"version":3,"sources":["components/flat.js","components/priceMarker.js","App.js","index.js"],"names":["Flat","selectFlat","props","flat","name","this","price","currency","priceCurrency","title","style","backgroundImage","imageUrl","className","selectedFlat","onClick","Component","Marker","classes","selected","Map","ReactMapboxGl","accessToken","App","setState","handleSearch","event","search","target","value","flats","state","allFlats","filter","RegExp","exec","fetch","then","response","json","data","center","lng","lat","type","placeholder","onChange","map","key","id","containerStyle","height","width","zoom","coordinates","ReactDOM","render","document","getElementById"],"mappings":"0UA+BeA,G,kNA3BbC,WAAa,WACX,EAAKC,MAAMD,WAAW,EAAKC,MAAMC,O,uDAGjC,IAAMC,EAAOC,KAAKH,MAAMC,KAAKC,KACvBE,EAAQD,KAAKH,MAAMC,KAAKG,MACxBC,EAAWF,KAAKH,MAAMC,KAAKK,cAE3BC,EAAK,UAAMH,GAAN,OAAcC,EAAd,cAA4BH,GAEjCM,EAAQ,CACZC,gBAAgB,OAAD,OAASN,KAAKH,MAAMC,KAAKS,SAAzB,MAEjB,OACE,yBACEC,UAAS,eAAUR,KAAKH,MAAMC,OAASE,KAAKH,MAAMY,aAAe,WAAa,IAC9EC,QAASV,KAAKJ,YAEd,yBAAKY,UAAU,eAAeH,MAAOA,IACrC,yBAAKG,UAAU,cACZJ,Q,GArBQO,cCeJC,G,6KAbX,IAAIC,EAAU,SAKd,OAJIb,KAAKH,MAAMiB,WACbD,GAAW,aAIX,yBAAKL,UAAWK,GAAhB,WACOb,KAAKH,MAAMI,Y,GATHU,cCKfI,EAAMC,YAAc,CACxBC,YACE,qGA8FWC,E,kDA1Fb,WAAYrB,GAAQ,IAAD,8BACjB,cAAMA,IAoBRD,WAAa,SAACE,GACZ,EAAKqB,SAAS,CACZV,aAAcX,KAvBC,EA2BnBsB,aAAe,SAACC,GACd,EAAKF,SAAS,CACZG,OAAQD,EAAME,OAAOC,MACrBC,MAAO,EAAKC,MAAMC,SAASC,QAAO,SAAA9B,GAAI,OAAI,IAAI+B,OAAOR,EAAME,OAAOC,MAAO,KAAKM,KAAKhC,EAAKC,YA5B1F,EAAK2B,MAAQ,CACXC,SAAU,GACVF,MAAO,GACPhB,aAAc,KACda,OAAQ,IANO,E,gEAUE,IAAD,OAClBS,MAAM,mFACLC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAACG,GACL,EAAKhB,SAAS,CACZQ,SAAUQ,EACVV,MAAOU,S,+BAkBH,IAAD,OACHC,EAAS,EAAE,WAAY,YAM3B,OAJIpC,KAAK0B,MAAMjB,eACb2B,EAAS,CAACpC,KAAK0B,MAAMjB,aAAa4B,IAAKrC,KAAK0B,MAAMjB,aAAa6B,MAI/D,yBAAK9B,UAAU,OACb,yBAAKA,UAAU,QACf,2BACEA,UAAU,SACV+B,KAAK,OACLC,YAAY,YACZhB,MAAOxB,KAAK0B,MAAMJ,OAClBmB,SAAUzC,KAAKoB,eAEjB,yBAAKZ,UAAU,SACZR,KAAK0B,MAAMD,MAAMiB,KAAI,SAAA5C,GAAI,OACxB,kBAAC,EAAD,CACE6C,IAAK7C,EAAK8C,GACV9C,KAAMA,EACNF,WAAY,EAAKA,WACjBa,aAAc,EAAKiB,MAAMjB,oBAK/B,yBAAKD,UAAU,OACb,kBAACO,EAAD,CACEV,MAAM,oCACNwC,eAAgB,CACdC,OAAQ,OACRC,MAAO,QAETX,OAAQA,EACRY,KAAM,CAAC,KAENhD,KAAK0B,MAAMD,MAAMiB,KAAI,SAAA5C,GAAI,OACxB,kBAAC,IAAD,CACE6C,IAAK7C,EAAK8C,GACVK,YAAa,CAACnD,EAAKuC,IAAKvC,EAAKwC,MAE7B,kBAAC,EAAD,CACErC,MAAOH,EAAKG,MACZa,SAAUhB,IAAS,EAAK4B,MAAMjB,0B,GAhF9BE,aCNlBuC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.34edb5a1.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './flat.css';\n\nclass Flat extends Component {\n  selectFlat = () => {\n    this.props.selectFlat(this.props.flat)\n  }\n  render() {\n    const name = this.props.flat.name;\n    const price = this.props.flat.price;\n    const currency = this.props.flat.priceCurrency;\n\n    const title = `${price}${currency} - ${name}`;\n\n    const style = {\n      backgroundImage: `url(${this.props.flat.imageUrl})`\n    }\n    return (\n      <div\n        className={`flat ${this.props.flat === this.props.selectedFlat ? 'selected' : ''}`}\n        onClick={this.selectFlat}\n      >\n        <div className=\"flat-picture\" style={style}></div>\n        <div className=\"flat-title\">\n          {title}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Flat;\n","import React, { Component } from 'react';\nimport \"./priceMarker.css\";\n\nclass Marker extends Component {\n  render() {\n    let classes = \"marker\";\n    if (this.props.selected) {\n      classes += \" selected\"\n    }\n\n    return (\n      <div className={classes}>\n        {`$${this.props.price}`}\n      </div>\n    );\n  }\n}\n\nexport default Marker;\n","import React, { Component } from 'react';\nimport './App.css';\nimport ReactMapboxGl, { Marker } from 'react-mapbox-gl';\n\nimport Flat from './components/flat';\nimport PriceMarker from './components/priceMarker';\n\n\nconst Map = ReactMapboxGl({\n  accessToken:\n    'pk.eyJ1IjoiY2xhaXJlZnJvZnJvIiwiYSI6ImNrMmc3YzdwdjBzOXEzaG9kY3hmdWJmbHgifQ.hvbyrZfZx7MxixCqThUrlA',\n});\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allFlats: [],\n      flats: [],\n      selectedFlat: null,\n      search: \"\"\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"https://raw.githubusercontent.com/clairefro/flats-boilerplate/master/flats.json\")\n    .then(response => response.json())\n    .then((data) => {\n      this.setState({\n        allFlats: data,\n        flats: data\n      });\n    });\n  }\n\n  selectFlat = (flat) => {\n    this.setState({\n      selectedFlat: flat\n    });\n  }\n\n  handleSearch = (event) => {\n    this.setState({\n      search: event.target.value,\n      flats: this.state.allFlats.filter(flat => new RegExp(event.target.value, \"i\").exec(flat.name))\n    });\n  }\n\n  render() {\n    let center = [-73.6103642, 45.4972159]; // default center\n    // set new center if flat selected\n    if (this.state.selectedFlat) {\n      center = [this.state.selectedFlat.lng, this.state.selectedFlat.lat]\n    }\n\n    return (\n      <div className=\"app\">\n        <div className=\"main\">\n        <input\n          className=\"search\"\n          type=\"text\"\n          placeholder=\"Search...\"\n          value={this.state.search}\n          onChange={this.handleSearch}\n        />\n        <div className=\"flats\">\n          {this.state.flats.map(flat => (\n            <Flat\n              key={flat.id}\n              flat={flat}\n              selectFlat={this.selectFlat}\n              selectedFlat={this.state.selectedFlat}\n            />\n          ))}\n        </div>\n        </div>\n        <div className=\"map\">\n          <Map\n            style=\"mapbox://styles/mapbox/streets-v9\"\n            containerStyle={{\n              height: '100%',\n              width: '100%'\n            }}\n            center={center}\n            zoom={[12]}\n          >\n            {this.state.flats.map(flat => (\n              <Marker\n                key={flat.id}\n                coordinates={[flat.lng, flat.lat]}\n              >\n                <PriceMarker\n                  price={flat.price}\n                  selected={flat === this.state.selectedFlat}\n                />\n              </Marker>\n            ))}\n          </Map>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import Hello from './components/hello';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}